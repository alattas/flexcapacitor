<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 xmlns:handlers="com.flexcapacitor.handlers.*" 
		 xmlns:project="com.flexcapacitor.effects.project.*" 
		 xmlns:file="com.flexcapacitor.effects.file.*" 
		 xmlns:services="com.flexcapacitor.effects.services.*" 
		 xmlns:core="com.flexcapacitor.effects.core.*" 
		 xmlns:data="com.flexcapacitor.effects.collections.*" 
		 width="400" height="300"
		 >
	
	<fx:Declarations>
		
		<s:ArrayCollection id="arrayCollection">
			<s:DataItem name="Beige" value="#F5F5DC"/>
			<s:DataItem name="Bistre" value="#3D2B1F"/>
			<s:DataItem name="Black" value="#000000"/>
			<s:DataItem name="Blue" value="#0000FF"/>
			<s:DataItem name="Blue Green" value="#00DDDD"/>
			<s:DataItem name="Blue Violet" value="#8A2BE2"/>
			<s:DataItem name="Bondi Blue" value="#0095B6"/>
			<s:DataItem name="Brass" value="#B5A642"/>
			<s:DataItem name="Bronze" value="#CD7F32"/>
			<s:DataItem name="Brown" value="#964B00"/>
			<s:DataItem name="Buff" value="#F0DC82"/>
			<s:DataItem name="Burgundy" value="#900020"/>
			<s:DataItem name="Burnt Orange" value="#CC5500"/>
			<s:DataItem name="Burnt Sienna" value="#E97451"/>
			<s:DataItem name="Burnt Umber" value="#8A3324"/>
			<s:DataItem name="Han Purple" value="#5218FA"/>
			<s:DataItem name="Harlequin" value="#3FFF00"/>
			<s:DataItem name="Heliotrope" value="#DF73FF"/>
			<s:DataItem name="Hollywood Cerise" value="#F400A1"/>
			<s:DataItem name="Camouflage Green" value="#78866B"/>
			<s:DataItem name="Caput Mortuum" value="#592720"/>
			<s:DataItem name="Cardinal" value="#C41E3A"/>
			<s:DataItem name="Carmine" value="#960018"/>
			<s:DataItem name="Carrot orange" value="#ED9121"/>
			<s:DataItem name="Celadon" value="#ACE1AF"/>
			<s:DataItem name="Cerise" value="#DE3163"/>
			<s:DataItem name="Cerulean" value="#007BA7"/>
			<s:DataItem name="Champagne" value="#F7E7CE"/>
			<s:DataItem name="Charcoal" value="#464646"/>
			<s:DataItem name="Chartreuse" value="#7FFF00"/>
			<s:DataItem name="Cherry Blossom Pink" value="#FFB7C5"/>
			<s:DataItem name="Chestnut" value="#CD5C5C"/>
			<s:DataItem name="Chocolate" value="#7B3F00"/>
			<s:DataItem name="Cinnabar" value="#E34234"/>
			<s:DataItem name="Cinnamon" value="#D2691E"/>
			<s:DataItem name="Cobalt" value="#0047AB"/>
			<s:DataItem name="Copper" value="#B87333"/>
			<s:DataItem name="Coral" value="#FF7F50"/>
			<s:DataItem name="Corn" value="#FBEC5D"/>
			<s:DataItem name="Cornflower" value="#6495ED"/>
			<s:DataItem name="Cream" value="#FFFDD0"/>
			<s:DataItem name="Crimson" value="#DC143C"/>
			<s:DataItem name="Cyan" value="#00FFFF"/>
			<s:DataItem name="Alizarin" value="#E32636"/>
			<s:DataItem name="Amaranth" value="#E52B50"/>
			<s:DataItem name="Amber" value="#FFBF00"/>
			<s:DataItem name="Amethyst" value="#9966CC"/>
			<s:DataItem name="Apricot" value="#FBCEB1"/>
			<s:DataItem name="Aqua" value="#00FFFF"/>
			<s:DataItem name="Aquamarine" value="#7FFFD4"/>
			<s:DataItem name="Asparagus" value="#7BA05B"/>
			<s:DataItem name="Auburn" value="#6D351A"/>
			<s:DataItem name="Azure" value="#F0FFFF"/>
			<s:DataItem name="Dandelion" value="#FED85D"/>
			<s:DataItem name="Denim" value="#1560BD"/>
			<s:DataItem name="Ecru" value="#C2B280"/>
			<s:DataItem name="Emerald" value="#50C878"/>
			<s:DataItem name="Eggplant" value="#614051"/>
			<s:DataItem name="Wheat" value="#F5DEB3"/>
			<s:DataItem name="White" value="#ffffff"/>
			<s:DataItem name="Wisteria" value="#C9A0DC"/>
			<s:DataItem name="Falu red" value="#801818"/>
			<s:DataItem name="Fern green" value="#4F7942"/>
			<s:DataItem name="Firebrick" value="#B22222"/>
			<s:DataItem name="Flax" value="#EEDC82"/>
			<s:DataItem name="Forest green" value="#228B22"/>
			<s:DataItem name="French Rose" value="#F64A8A"/>
			<s:DataItem name="Fuchsia" value="#FF00FF"/>
			<s:DataItem name="Xanthic" value="#EDED09"/>
			<s:DataItem name="Gamboge" value="#E49B0F"/>
			<s:DataItem name="Gold" value="#D4AF37"/>
			<s:DataItem name="Goldenrod" value="#DAA520"/>
			<s:DataItem name="Green" value="#00FF00"/>
			<s:DataItem name="Grey" value="#808080"/>
			<s:DataItem name="Indigo" value="#00416A"/>
			<s:DataItem name="Ivory" value="#FFFFF0"/>
			<s:DataItem name="Jade " value="#00A86B"/>
			<s:DataItem name="Kelly green" value="#4CBB17"/>
			<s:DataItem name="Khaki" value="#C3B091"/>
			<s:DataItem name="Lavender" value="#B57EDC"/>
			<s:DataItem name="Lawn green" value="#7CFC00"/>
			<s:DataItem name="Lemon" value="#FDE910"/>
			<s:DataItem name="Lemon chiffon" value="#FFFACD"/>
			<s:DataItem name="Lilac" value="#C8A2C8"/>
			<s:DataItem name="Lime" value="#00FF00"/>
			<s:DataItem name="Lime green" value="#32CD32"/>
			<s:DataItem name="Linen" value="#FAF0E6"/>
			<s:DataItem name="Magenta" value="#FF00FF"/>
			<s:DataItem name="Magnolia" value="#F8F4FF"/>
			<s:DataItem name="Malachite" value="#0BDA51"/>
			<s:DataItem name="Maroon" value="#800000"/>
			<s:DataItem name="Mauve" value="#E0B0FF"/>
			<s:DataItem name="Midnight Blue" value="#191970"/>
			<s:DataItem name="Mint green" value="#98FF98"/>
			<s:DataItem name="Misty rose" value="#FFE4E1"/>
			<s:DataItem name="Moss green" value="#ADDFAD"/>
			<s:DataItem name="Mustard" value="#FFDB58"/>
			<s:DataItem name="Myrtle" value="#21421E"/>
			<s:DataItem name="Navajo white" value="#FFDEAD"/>
			<s:DataItem name="Navy Blue" value="#000080"/>
			<s:DataItem name="Ochre" value="#CC7722"/>
			<s:DataItem name="Office green" value="#008000"/>
			<s:DataItem name="Olive" value="#808000"/>
			<s:DataItem name="Olivine" value="#9AB973"/>
			<s:DataItem name="Orange" value="#FF7F00"/>
			<s:DataItem name="Orchid" value="#DA70D6"/>
			<s:DataItem name="Van Dyke Brown" value="#413000"/>
			<s:DataItem name="Vermilion" value="#E34234"/>
			<s:DataItem name="Violet" value="#8B00FF"/>
			<s:DataItem name="Viridian" value="#40826D"/>
			<s:DataItem name="Yellow" value="#FFFF00"/>
			<s:DataItem name="Zucchini" value="#506022"/>
			<s:DataItem name="Papaya whip" value="#FFEFD5"/>
			<s:DataItem name="Peach" value="#FFE5B4"/>
			<s:DataItem name="Pear" value="#D1E231"/>
			<s:DataItem name="Periwinkle" value="#CCCCFF"/>
			<s:DataItem name="Persimmon" value="#EC5800"/>
			<s:DataItem name="Pine Green" value="#01796F"/>
			<s:DataItem name="Pink" value="#FFC0CB"/>
			<s:DataItem name="Platinum" value="#E5E4E2"/>
			<s:DataItem name="Plum" value="#CC99CC"/>
			<s:DataItem name="Powder blue" value="#B0E0E6"/>
			<s:DataItem name="Puce" value="#CC8899"/>
			<s:DataItem name="Prussian blue" value="#003153"/>
			<s:DataItem name="Psychedelic purple" value="#DD00FF"/>
			<s:DataItem name="Pumpkin" value="#FF7518"/>
			<s:DataItem name="Purple" value="#800080"/>
			<s:DataItem name="Quartz Grey" value="#6C6961"/>
			<s:DataItem name="Safety orange" value="#FF6600"/>
			<s:DataItem name="Saffron" value="#F4C430"/>
			<s:DataItem name="Salmon" value="#FF8C69"/>
			<s:DataItem name="Sandy brown" value="#F4A460"/>
			<s:DataItem name="Sangria" value="#92000A"/>
			<s:DataItem name="Sapphire" value="#082567"/>
			<s:DataItem name="Scarlet" value="#FF2400"/>
			<s:DataItem name="School bus yellow" value="#FFD800"/>
			<s:DataItem name="Sea Green" value="#2E8B57"/>
			<s:DataItem name="Seashell" value="#FFF5EE"/>
			<s:DataItem name="Sepia" value="#704214"/>
			<s:DataItem name="Shamrock green" value="#009E60"/>
			<s:DataItem name="Shocking Pink" value="#FC0FC0"/>
			<s:DataItem name="Silver" value="#C0C0C0"/>
			<s:DataItem name="Sky Blue" value="#87CEEB"/>
			<s:DataItem name="Slate grey" value="#708090"/>
			<s:DataItem name="Smalt" value="#003399"/>
			<s:DataItem name="Spring bud" value="#A7FC00"/>
			<s:DataItem name="Spring green" value="#00FF7F"/>
			<s:DataItem name="Steel blue" value="#4682B4"/>
			<s:DataItem name="Tan" value="#D2B48C"/>
			<s:DataItem name="Tangerine" value="#F28500"/>
			<s:DataItem name="Taupe" value="#483C32"/>
			<s:DataItem name="Teal" value="#008080"/>
			<s:DataItem name="TennÃ© (Tawny)" value="#CD5700"/>
			<s:DataItem name="Terra cotta" value="#E2725B"/>
			<s:DataItem name="Thistle" value="#D8BFD8"/>
			<s:DataItem name="Titanium White" value="#fcfff0"/>
			<s:DataItem name="Tomato" value="#FF6347"/>
			<s:DataItem name="Turquoise" value="#30D5C8"/>
			<s:DataItem name="Tyrian purple" value="#66023C"/>
			<s:DataItem name="Ultramarine" value="#120A8F"/>
			<s:DataItem name="Raw umber" value="#734A12"/>
			<s:DataItem name="Razzmatazz" value="#E30B5C"/>
			<s:DataItem name="Red" value="#FF0000"/>
			<s:DataItem name="Robin egg blue" value="#00CCCC"/>
			<s:DataItem name="Rose" value="#FF007F"/>
			<s:DataItem name="Royal blue" value="#4169E1"/>
			<s:DataItem name="Royal purple" value="#6B3FA0"/>
			<s:DataItem name="Ruby" value="#E0115F"/>
			<s:DataItem name="Russet" value="#80461B"/>
			<s:DataItem name="Rust" value="#B7410E"/>
		</s:ArrayCollection>
		
		<!-- SORT BY NAME -->
		<handlers:EventHandler eventName="click" target="{sortByName}">
			<data:SortCollection target="{arrayCollection}" 
								 toggleSortDirection="{toggleSortDirection.selected}">
				<data:fields>
					<fx:Array>
						<fx:String>name</fx:String>
					</fx:Array>
				</data:fields>
			</data:SortCollection>
		</handlers:EventHandler>
		
		<!-- SORT BY COLOR -->
		<handlers:EventHandler eventName="click" target="{sortByColor}">
			<data:SortCollection target="{arrayCollection}"
								 toggleSortDirection="{toggleSortDirection.selected}">
				<data:fields>
					<s:SortField name="value" />
				</data:fields>
			</data:SortCollection>
		</handlers:EventHandler>
		
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			public function labelFunction(item:Object):String {
				return item.name + " #" + item.value;
			}
		]]>
	</fx:Script>
	
	<s:Group width="100%" height="100%" 
			 left="10" top="10" bottom="10">
		<s:layout>
			<s:VerticalLayout horizontalAlign="left"/>
		</s:layout>
		
		<s:Label text="Sorts an ArrayCollection of Objects by field name." 
				 color="#333333"
				 top="10" left="10"
				 fontSize="12">
		</s:Label>
		
		
		<s:Spacer height="10"/>
		
		<s:HGroup verticalAlign="baseline">
			<s:Button id="sortByName" label="Sort by Name"/>
			<s:Button id="sortByColor" label="Sort by Color"/>
			<s:CheckBox id="toggleSortDirection" label="Toggle order" selected="true"/>
		</s:HGroup>
		
		<s:Spacer height="10"/>
		
		
		<s:List id="list" 
				minWidth="300"
				height="100%" 
				bottom="20"
				dataProvider="{arrayCollection}"
				borderVisible="false"
				labelFunction="labelFunction"
				contentBackgroundAlpha="0"
				>
			
			<s:layout>
				<s:VerticalLayout rowHeight="22"/>
			</s:layout>
			
			<s:itemRenderer>
				<fx:Component>
					<s:ItemRenderer width="100%" 
									height="100%" 
									minHeight="22"
									dataChange="itemrenderer1_dataChangeHandler(event)">
						<s:layout>
							<s:HorizontalLayout verticalAlign="middle" paddingLeft="10" paddingRight="10"/>
						</s:layout>
						
						<fx:Script>
							<![CDATA[
								import mx.events.FlexEvent;
								
								protected function itemrenderer1_dataChangeHandler(event:FlexEvent):void {
									var colorValue:String = String(int(data.value).toString(16)).toUpperCase();
									
									for (var i:int=colorValue.length;i<6;i++) {
										colorValue = "0" + colorValue;
									}
									
									labelDisplay.text = data.name;
									labelDisplay2.text = "#" + colorValue;
								}
								
							]]>
						</fx:Script>
						<s:Label id="labelDisplay" 
								 minWidth="180"
								 height="100%"
								 textAlign="left" 
								 verticalAlign="middle"/>
						
						<s:Label id="labelDisplay2" 
								 minWidth="80"
								 height="100%"
								 textAlign="left" 
								 verticalAlign="middle"/>
						
						<s:Spacer width="100%"/>
						
						<s:Rect width="80" height="16" verticalCenter="0">
							<s:fill>
								<s:SolidColor color="{data.value}" />
							</s:fill>
							<s:stroke>
								<s:SolidColorStroke color="#ffffff" weight="2"/>
							</s:stroke>
						</s:Rect>
					</s:ItemRenderer>
				</fx:Component>
			</s:itemRenderer>
		</s:List>
	</s:Group>
</s:Group>
